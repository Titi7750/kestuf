{% extends 'base.html.twig' %}

{% block title %}Évènement {{ event.name }} - Kestuf'
{% endblock %}

{% block body %}
	<div class="text-center mt-5">
		<a href="{{ path('app_event') }}">
			<img src="{{ asset('images/kestuf_orange.png') }}" alt="Logo Kestuf' en orange">
		</a>
	</div>
	<div class="p-4">
		<h2 class="color-main fs-36px fw-black text-center">Infos du spot</h2>
		<div class="text-center">
			<div class="d-flex justify-content-evenly align-items-center">
				<h3 class="color-purple fs-24px fw-bold">{{ event.name }}</h3>
				<div class="hollow-circle-heart">
					<a href="{{ path('app_event_favorite', {'id': event.id}) }}">
						<i class="fa-regular fa-heart heart-icon-show"></i>
					</a>
				</div>
			</div>
			<p>{{ event.description }}</p>
			<img class="w-50 h-50 image-custom-show" src="{{ asset('uploads/images/' ~ event.picture) }}" alt="{{ event.name }}">
		</div>
		<div>
			<ul>
				<li class="list-style-none d-flex align-items-center fs-18px fw-regular mb-3">
					<div class="hollow-circle me-3">
						<i class="fa-solid fa-martini-glass-citrus color-purple fs-24px"></i>
					</div>
					{{ event.category.type }}
				</li>
				<li class="list-style-none d-flex align-items-center fs-18px fw-regular mb-3">
					<div class="hollow-circle me-3">
						<i class="fa-solid fa-location-dot color-purple fs-24px"></i>
					</div>
					{{ event.address }}
				</li>
				<li class="list-style-none d-flex align-items-center fs-18px fw-regular mb-3">
					<div class="hollow-circle me-3">
						<i class="fa-solid fa-euro-sign color-purple fs-24px"></i>
					</div>
					{{ event.price }}
				</li>
				<li class="list-style-none d-flex align-items-center fs-18px fw-regular mb-3">
					<div class="hollow-circle me-3">
						<i class="fa-solid fa-train-subway color-purple fs-24px"></i>
					</div>
					{{ event.stopname }}
				</li>
				<li class="list-style-none d-flex align-items-center fs-18px fw-regular mb-3">
					<div class="hollow-circle me-3">
						<i class="fa-regular fa-clock color-purple fs-24px"></i>
					</div>
					{{ event.openhours|date('H:i') }}-{{ event.closehours|date('H:i') }}
				</li>
			</ul>
		</div>
		<div class="mb-3">
			{% if app.user and event in app.user.eventUserParticipant %}
				<div class="d-flex justify-content-center flex-wrap">
					<a href="{{ path('app_event_participate', {'id': event.id}) }}" class="btn btn-danger">Se désinscrire</a>
					<a href="{{ path('app_event_give_comment', {'id': event.id}) }}" class="btn btn-primary ms-3">Laisser un avis</a>
				</div>
			{% else %}
				<div class="d-flex justify-content-center flex-wrap">
					<a href="{{ path('app_event_participate', {'id': event.id}) }}" class="btn btn-primary">Participer</a>
					<a href="{{ path('app_event_give_comment', {'id': event.id}) }}" class="btn btn-primary ms-3">Laisser un avis</a>
				</div>
			{% endif %}
			{# {% if app.user and event in app.user.eventUserFavorite %}
				<a href="{{ path('app_event_favorite', {'id': event.id}) }}" class="btn btn-danger">Retirer des favoris</a>
			{% else %}
				<a href="{{ path('app_event_favorite', {'id': event.id}) }}" class="btn btn-success">Ajouter aux favoris</a>
			{% endif %} #}
		</div>
		<div class="cards-container">
			{% for comment in comments %}
				{% if comment.active == 1 %}
					<div class="card">
						<div class="card-content">
							<p>{{ comment.content }}</p>
							<p class="comment-info">Publié par
								{{ comment.getUserCommentEvent().firstname }}
								le
								{{ comment.getCreatedAt()|date('d/m/Y') }}</p>
						</div>
					</div>
				{% endif %}
			{% endfor %}
		</div>
	</div>
{% endblock %}
